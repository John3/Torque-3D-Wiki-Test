<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>My Project: BanList Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('class_ban_list.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_ban_list-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">BanList Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="console_8h_source.html">console.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aadd60ead44a8b66b95004f60396f35c6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ban_list.html#aadd60ead44a8b66b95004f60396f35c6">add</a> ((int uniqueId, string transportAddress, int banLength))</td></tr>
<tr class="separator:aadd60ead44a8b66b95004f60396f35c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26fa48e56c337fb9c398e60910a9c3ba"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ban_list.html#a26fa48e56c337fb9c398e60910a9c3ba">addAbsolute</a> ((int uniqueId, string transportAddress, int banTime))</td></tr>
<tr class="separator:a26fa48e56c337fb9c398e60910a9c3ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5498b0ac342ee19746eda7aad231b9db"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ban_list.html#a5498b0ac342ee19746eda7aad231b9db">export</a> ((string filename))</td></tr>
<tr class="separator:a5498b0ac342ee19746eda7aad231b9db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a910d0ff6e2ac02cc087aed2bbc2f4a"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ban_list.html#a3a910d0ff6e2ac02cc087aed2bbc2f4a">isBanned</a> ((int uniqueId, string transportAddress))</td></tr>
<tr class="separator:a3a910d0ff6e2ac02cc087aed2bbc2f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66b98995a24ee91956862b263ea7434"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_ban_list.html#ab66b98995a24ee91956862b263ea7434">removeBan</a> ((int uniqueId, string transportAddress))</td></tr>
<tr class="separator:ab66b98995a24ee91956862b263ea7434"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aadd60ead44a8b66b95004f60396f35c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BanList::add </td>
          <td>(</td>
          <td class="paramtype">(int uniqueId, string transportAddress, int banLength)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">   Ban a user for banLength seconds.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uniqueId</td><td>Unique ID of the player. </td></tr>
    <tr><td class="paramname">transportAddress</td><td>Address from which the player connected. </td></tr>
    <tr><td class="paramname">banLength</td><td>Time period over which to ban the player. Kick someone off the server client - This is the connection to the person we are kicking function kick(client) { ^^// Let the server know what happened ^^messageAll( 'MsgAdminForce', ' Admin has kicked %1.', client.playerName);</td></tr>
  </table>
  </dd>
</dl>
<p>^^// If it is not an AI <a class="el" href="class_player.html">Player</a>, execute the ban. ^^if (!client.isAIControlled()) ^^^BanList::add(client.guid, client.getAddress(), $pref::Server::KickBanTime);</p>
<p>^^// Let the player know they messed up ^^client.delete("You have been kicked from this server"); }  </p>

</div>
</div>
<a class="anchor" id="a26fa48e56c337fb9c398e60910a9c3ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BanList::addAbsolute </td>
          <td>(</td>
          <td class="paramtype">(int uniqueId, string transportAddress, int banTime)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">   Ban a user until a given time.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uniqueId</td><td>Unique ID of the player. </td></tr>
    <tr><td class="paramname">transportAddress</td><td>Address from which the player connected. </td></tr>
    <tr><td class="paramname">banTime</td><td>Time at which they will be allowed back in. Kick someone off the server client - This is the connection to the person we are kicking function kick(client) { ^^// Let the server know what happened ^^messageAll( 'MsgAdminForce', ' Admin has kicked %1.', client.playerName);</td></tr>
  </table>
  </dd>
</dl>
<p>^^// If it is not an AI <a class="el" href="class_player.html">Player</a>, execute the ban. ^^if (!client.isAIControlled()) ^^^BanList::addAbsolute(client.guid, client.getAddress(), $pref::Server::KickBanTime);</p>
<p>^^// Let the player know they messed up ^^client.delete("You have been kicked from this server"); }  </p>

</div>
</div>
<a class="anchor" id="a5498b0ac342ee19746eda7aad231b9db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BanList::export </td>
          <td>(</td>
          <td class="paramtype">(string filename)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">   Dump the banlist to a file.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filename</td><td><a class="el" href="class_path.html" title="A spline along which various objects can move along. The spline object acts like a container for Mark...">Path</a> of the file to write the list to.</td></tr>
  </table>
  </dd>
</dl>
<p>BanList::Export("./server/banlist.cs");  </p>

</div>
</div>
<a class="anchor" id="a3a910d0ff6e2ac02cc087aed2bbc2f4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool BanList::isBanned </td>
          <td>(</td>
          <td class="paramtype">(int uniqueId, string transportAddress)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">   Is someone banned?
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uniqueId</td><td>Unique ID of the player. </td></tr>
    <tr><td class="paramname">transportAddress</td><td>Address from which the player connected.</td></tr>
  </table>
  </dd>
</dl>
<h2></h2>
<p>This script function is called before a client connection is accepted. Returning will accept the connection, anything else will be sent back as an error to the client. All the connect args are passed also to onConnectRequest function <a class="el" href="class_game_connection.html#ae01cad661578c0bf2674bdd152a9fb61">GameConnection::onConnectRequest</a>( client, netAddress, name ) { ^ // Find out who is trying to connect ^ echo("Connect request from: " @ netAddress);</p>
<p>^ // Are they allowed in? ^ if(<a class="el" href="class_ban_list.html#a3a910d0ff6e2ac02cc087aed2bbc2f4a">BanList::isBanned</a>(client.guid, netAddress)) ^^ return "CR_YOUAREBANNED";</p>
<p>^ // Is there room for an unbanned player? ^ if(</p>
<dl class="section rcs"><dt>Server:</dt><dd>PlayerCount &gt;= </dd></dl>
<p>pref::Server::MaxPlayers) ^^ return "CR_SERVERFULL"; ^ return ; }  </p>

</div>
</div>
<a class="anchor" id="ab66b98995a24ee91956862b263ea7434"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void BanList::removeBan </td>
          <td>(</td>
          <td class="paramtype">(int uniqueId, string transportAddress)&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">   Unban someone.
</pre><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uniqueId</td><td>Unique ID of the player. </td></tr>
    <tr><td class="paramname">transportAddress</td><td>Address from which the player connected.  <a class="el" href="class_ban_list.html#ab66b98995a24ee91956862b263ea7434">BanList::removeBan</a>(userID, ipAddress);  </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="console_8h_source.html">console.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_ban_list.html">BanList</a></li>
    <li class="footer">Generated on Thu Dec 5 2013 03:13:30 for My Project by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
