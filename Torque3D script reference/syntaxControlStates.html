<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Torque 3D - Script Manual: Control Statements</title>
<link href="torquedoc.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<table width="100%" class="header">
<tr>
<td style="background-image: url( 'images/t3d-documentation-header.png' ); height: 100px;">
   <!-- hack... makes the HTML Help compiler include the image into the project -->
   <img src="images/t3d-documentation-header.png" style="width: 0; height: 0; borders: 0;">
</td>
</tr>
<tr><td class="headermenu">
	<center>
	<a class="qindex" href="index.html">Main</a> &nbsp; 
	<a class="qindex" href="annotated.html">Class List</a> &nbsp; 
	<a class="qindex" href="namespaces.html">Namespace List</a>	&nbsp; 
	<a class="qindex" href="https://github.com/LuisAntonRebollo/Torque-3D-Wiki-Test/wiki">Wiki</a>
	</center>
</td></tr>
</table>
<br>
<!-- END HEADER -->
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="contents">


<h1><a class="anchor" id="syntaxControlStates">Control Statements </a></h1><h2><a class="anchor" id="syntax_control">
Control Statements</a></h2>
<p>TorqueScript provides basic branching structures that will be familiar to programmers that have used other languages. If you are completely new to programming, you use branching structures to control your game's flow and logic. This section builds on everything you have learned about TorqueScript so far.</p>
<p><b>if, then, else</b></p>
<p>This type of structure is used to test a condition, then perform certain actions if the condition passes or fails. You do not always have to use the full structure, but the following syntax shows the extent of the conditional:</p>
<div class="fragment"><pre class="fragment"> <span class="keywordflow">if</span>(&lt;<span class="keywordtype">boolean</span> expression&gt;) 
{
   pass logic
}
<span class="keywordflow">else</span> 
{
   alternative logic
}
</pre></div><p>Remember how boolean values work? Essentially, a bool can either be true (1) or false (0). The condition (boolean) is always typed into the parenthesis after the "if" syntax. Your logic will be typed within the brackets {}. The following example uses specific variable names and conditions to show how this can be used:</p>
<p><b>Example:</b> </p>
<div class="fragment"><pre class="fragment"><span class="comment">// Global variable that controls lighting</span>
$lightsShouldBeOn = <span class="keyword">true</span>;

<span class="comment">// Check to see if lights should be on or off</span>
<span class="keywordflow">if</span>($lightsShouldBeOn)
{
   <span class="comment">// True. Call turn on lights function</span>
   turnOnLights();

   <a class="code" href="group__Logging.html#gadda60a90d6b71f2d19f027847c0cb6f9" title="Logs a message to the console.">echo</a>(<span class="stringliteral">&quot;Lights have been turned on&quot;</span>);
}
<span class="keywordflow">else</span>
{
   <span class="comment">// False. Turn off the lights</span>
   turnOffLights();

   <a class="code" href="group__Logging.html#gadda60a90d6b71f2d19f027847c0cb6f9" title="Logs a message to the console.">echo</a>(<span class="stringliteral">&quot;Lights have been turned off&quot;</span>);
}
</pre></div><p>Brackets for single line statements are optional. If you are thinking about adding additional logic to the code, then you should use the brackets anyway. If you know you will only use one logic statement, you can use the following syntax:</p>
<p><b>Example:</b></p>
<div class="fragment"><pre class="fragment"><span class="comment">// Global variable that controls lighting</span>
$lightsShouldBeOn = <span class="keyword">true</span>;

<span class="comment">// Check to see if lights should be on or off</span>
<span class="keywordflow">if</span>($lightsShouldBeOn)
  turnOnLights();   <span class="comment">// True. Call turn on lights function</span>
<span class="keywordflow">else</span>
  turnOffLights(); <span class="comment">// False. Turn off the lights</span>
</pre></div><p> <br/>
</p>
<h2><a class="anchor" id="syntax_switch">
switch and switch$</a></h2>
<p>If your code is using several cascading if-then-else statements based on a single value, you might want to use a <b>switch</b> statement instead. Switch statements are easier to manage and read. There are two types of switch statements, based on data type: numeric (switch) and string (switch$).</p>
<p><b>Switch Syntax:</b></p>
<div class="fragment"><pre class="fragment"><span class="keywordflow">switch</span>(&lt;numeric expression&gt;) 
{
   <span class="keywordflow">case</span> value0:
       statements;
   <span class="keywordflow">case</span> value1:
       statements;
   <span class="keywordflow">case</span> value3:
       statements;
   <span class="keywordflow">default</span>:
       statements;
}
</pre></div><p>As the above code demonstrates, start by declaring the switch statement by passing in a value to the switch(...) line. Inside of the brackets {}, you will list out all the possible cases that will execute based on what value being tested. It is wise to always use the default case, anticipating rogue values being passed in.</p>
<p><b>Example:</b></p>
<div class="fragment"><pre class="fragment"><span class="keywordflow">switch</span>($ammoCount)
{
   <span class="keywordflow">case</span> 0:
      <a class="code" href="group__Logging.html#gadda60a90d6b71f2d19f027847c0cb6f9" title="Logs a message to the console.">echo</a>(<span class="stringliteral">&quot;Out of ammo, time to reload&quot;</span>);
      reloadWeapon();
   <span class="keywordflow">case</span> 1:
      <a class="code" href="group__Logging.html#gadda60a90d6b71f2d19f027847c0cb6f9" title="Logs a message to the console.">echo</a>(<span class="stringliteral">&quot;Almost out of ammo, warn user&quot;</span>);
      lowAmmoWarning();
   <span class="keywordflow">case</span> 100:
      <a class="code" href="group__Logging.html#gadda60a90d6b71f2d19f027847c0cb6f9" title="Logs a message to the console.">echo</a>(<span class="stringliteral">&quot;Full ammo count&quot;</span>);
      playFullAmmoSound();
   <span class="keywordflow">default</span>:
      doNothing();
}
</pre></div><p>switch only properly evaluates numerical values. If you need a switch statement to handle a string value, you will want to use <b>switch$</b>. The switch$ syntax is similar to what you just learned:</p>
<p><b>Switch$ Syntax:</b></p>
<div class="fragment"><pre class="fragment"><span class="keywordflow">switch</span>$ (&lt;<span class="keywordtype">string</span> expression&gt;) 
{
   <span class="keywordflow">case</span> <span class="stringliteral">&quot;string value 0&quot;</span>:
                statements;
   <span class="keywordflow">case</span> <span class="stringliteral">&quot;string value 1&quot;</span>:
                statements;
...
   <span class="keywordflow">case</span> <span class="stringliteral">&quot;string value N&quot;</span>:
                statements;
   <span class="keywordflow">default</span>:
                statements;
}
</pre></div><p>Appending the $ sign to switch will immediately cause the parameter passed in to be parsed as a string. The following code applies this logic:</p>
<p><b>Example:</b></p>
<div class="fragment"><pre class="fragment"><span class="comment">// Print out specialties</span>
<span class="keywordflow">switch</span>($userName)
{
   <span class="keywordflow">case</span> <span class="stringliteral">&quot;Heather&quot;</span>:
      <a class="code" href="group__Logging.html#gadda60a90d6b71f2d19f027847c0cb6f9" title="Logs a message to the console.">echo</a>(<span class="stringliteral">&quot;Sniper&quot;</span>);
   <span class="keywordflow">case</span> <span class="stringliteral">&quot;Nikki&quot;</span>:
      <a class="code" href="group__Logging.html#gadda60a90d6b71f2d19f027847c0cb6f9" title="Logs a message to the console.">echo</a>(<span class="stringliteral">&quot;Demolition&quot;</span>);
   <span class="keywordflow">case</span> Mich:
      <a class="code" href="group__Logging.html#gadda60a90d6b71f2d19f027847c0cb6f9" title="Logs a message to the console.">echo</a>(<span class="stringliteral">&quot;Meat shield&quot;</span>);
   <span class="keywordflow">default</span>:
      <a class="code" href="group__Logging.html#gadda60a90d6b71f2d19f027847c0cb6f9" title="Logs a message to the console.">echo</a>(<span class="stringliteral">&quot;Unknown user&quot;</span>);
}
</pre></div> </div>

<!-- START FOOTER -->
<br>
<br>
<center>
	<div style="color: #777777;">
	Copyright &copy; <a style="color: #777777;" target="_blank" href="http://www.garagegames.com">GarageGames, LLC</a>. All Rights Reserved.
	</div>
</center>
</body>
</html>
