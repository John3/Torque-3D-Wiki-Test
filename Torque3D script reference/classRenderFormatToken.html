<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Torque 3D - Script Manual: RenderFormatToken Class Reference</title>
<link href="torquedoc.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<table width="100%" class="header">
<tr>
<td style="background-image: url( 'images/t3d-documentation-header.png' ); height: 100px;">
   <!-- hack... makes the HTML Help compiler include the image into the project -->
   <img src="images/t3d-documentation-header.png" style="width: 0; height: 0; borders: 0;">
</td>
</tr>
<tr><td class="headermenu">
	<center>
	<a class="qindex" href="index.html">Main</a> &nbsp; 
	<a class="qindex" href="annotated.html">Class List</a> &nbsp; 
	<a class="qindex" href="namespaces.html">Namespace List</a>	&nbsp; 
	<a class="qindex" href="https://github.com/LuisAntonRebollo/Torque-3D-Wiki-Test/wiki">Wiki</a>
	</center>
</td></tr>
</table>
<br>
<!-- END HEADER -->
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="contents">
<h1>RenderFormatToken Class Reference<br/>
<small>
[<a class="el" href="group__GFX.html">GFX</a>]</small>
</h1><!-- doxytag: class="RenderFormatToken" --><!-- doxytag: inherits="RenderPassStateToken" -->
<p>Used to change the render target format when rendering in AL.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for RenderFormatToken:</div>
<div class="dynsection">
<div class="center"><img src="classRenderFormatToken__inherit__graph.png" border="0" usemap="#RenderFormatToken_inherit__map" alt="Inheritance graph"/></div>
<map name="RenderFormatToken_inherit__map" id="RenderFormatToken_inherit__map">
<area shape="rect" href="classRenderPassStateToken.html" title="Abstract base class for RenderFormatToken, used to manipulate what goes on in the..." alt="" coords="5,80,163,107"/><area shape="rect" href="classSimObject.html" title="Base class for almost all objects involved in the simulation." alt="" coords="43,5,125,32"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classRenderFormatToken-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRenderFormatToken.html#a2cf0315694a2e9f77eec82f97fa20efc">aaLevel</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Anti-ailiasing level for the this token. 0 disables, -1 uses adapter default.  <a href="#a2cf0315694a2e9f77eec82f97fa20efc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPostEffect.html">PostEffect</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRenderFormatToken.html#aa533f5283fa120c444cd9961b14ef9a2">copyEffect</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This <a class="el" href="classPostEffect.html" title="A fullscreen shader effect.">PostEffect</a> will be run when the render target is changed to the format specified by this token. It is used to copy/format data into the token rendertarget.  <a href="#aa533f5283fa120c444cd9961b14ef9a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__GFX.html#ga81aab0c9b2675820d5721e6152d939cb">GFXFormat</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRenderFormatToken.html#ad2d7ee782116c1d3e954e13319c50a9b">depthFormat</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the depth/stencil buffer format for this token.  <a href="#ad2d7ee782116c1d3e954e13319c50a9b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__GFX.html#ga81aab0c9b2675820d5721e6152d939cb">GFXFormat</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRenderFormatToken.html#a12551f4198ae876cc974d307d7fe9421">format</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the color buffer format for this token.  <a href="#a12551f4198ae876cc974d307d7fe9421"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classPostEffect.html">PostEffect</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classRenderFormatToken.html#a3b901de03f4adaa1e43e1cb2e61b9353">resolveEffect</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This <a class="el" href="classPostEffect.html" title="A fullscreen shader effect.">PostEffect</a> will be run when the render target is changed back to the format active prior to this token. It is used to copy/format data from the token rendertarget to the backbuffer.  <a href="#a3b901de03f4adaa1e43e1cb2e61b9353"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>Used to change the render target format when rendering in AL. </p>
<p><a class="el" href="classRenderFormatToken.html" title="Used to change the render target format when rendering in AL.">RenderFormatToken</a> is an implementation which changes the format of the back buffer and/or the depth buffer.</p>
<p>The <a class="el" href="classRenderPassStateBin.html" title="A non-rendering render bin used to enable/disable a RenderPassStateToken.">RenderPassStateBin</a> manager changes the rendering state associated with this token. In stock Torque 3D, a single example exists in the way of AL_FormatToken (found in renderManager.cs). In that script file, all the render managers are intialized, and a single <a class="el" href="classRenderFormatToken.html" title="Used to change the render target format when rendering in AL.">RenderFormatToken</a> is used. This implementation basically exists to ensure Advanced Lighting works with MSAA.</p>
<p>The actions for this token toggle the format of the back/depth buffers and it lets you specify a custom shader to "copy" the data so it can be reformatted or altered. This is done through the variables copyEffect and resolveEffect (which are post processes just like fog or glow)</p>
<dl class="user"><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment"><span class="comment">// This token, and the associated render managers, ensure that driver MSAA does not get used for Advanced Lighting renders.</span>
<span class="comment">// The &#39;AL_FormatResolve&#39; PostEffect copies the result to the backbuffer.</span>
<span class="keyword">new</span> <a class="code" href="classRenderFormatToken.html" title="Used to change the render target format when rendering in AL.">RenderFormatToken</a>(AL_FormatToken)
{
   <a class="code" href="classRenderPassStateToken.html#afb65f79e53033244146cc74ce9c43b01" title="Enables or disables this token.">enabled</a> = <span class="stringliteral">&quot;false&quot;</span>;

   <a class="code" href="classRenderFormatToken.html#a12551f4198ae876cc974d307d7fe9421" title="Sets the color buffer format for this token.">format</a> = <span class="stringliteral">&quot;GFXFormatR8G8B8A8&quot;</span>;
   <a class="code" href="classRenderFormatToken.html#ad2d7ee782116c1d3e954e13319c50a9b" title="Sets the depth/stencil buffer format for this token.">depthFormat</a> = <span class="stringliteral">&quot;GFXFormatD24S8&quot;</span>;
   <a class="code" href="classRenderFormatToken.html#a2cf0315694a2e9f77eec82f97fa20efc" title="Anti-ailiasing level for the this token. 0 disables, -1 uses adapter default.">aaLevel</a> = 0; <span class="comment">// -1 = match backbuffer</span>

   <span class="comment">// The contents of the back buffer before this format token is executed</span>
   <span class="comment">// is provided in $inTex</span>
   <a class="code" href="classRenderFormatToken.html#aa533f5283fa120c444cd9961b14ef9a2" title="This PostEffect will be run when the render target is changed to the format specified...">copyEffect</a> = <span class="stringliteral">&quot;AL_FormatCopy&quot;</span>;

   <span class="comment">// The contents of the render target created by this format token is</span>
   <span class="comment">// provided in $inTex</span>
   <a class="code" href="classRenderFormatToken.html#a3b901de03f4adaa1e43e1cb2e61b9353" title="This PostEffect will be run when the render target is changed back to the format...">resolveEffect</a> = <span class="stringliteral">&quot;AL_FormatCopy&quot;</span>;
};
</pre></div></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd>RenderPassToken</dd>
<dd>
<a class="el" href="classRenderPassStateBin.html" title="A non-rendering render bin used to enable/disable a RenderPassStateToken.">RenderPassStateBin</a> </dd>
<dd>
game/core/scripts/client/renderManager.cs </dd></dl>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a2cf0315694a2e9f77eec82f97fa20efc"></a><!-- doxytag: member="RenderFormatToken::aaLevel" ref="a2cf0315694a2e9f77eec82f97fa20efc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="classRenderFormatToken.html#a2cf0315694a2e9f77eec82f97fa20efc">RenderFormatToken::aaLevel</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Anti-ailiasing level for the this token. 0 disables, -1 uses adapter default. </p>

</div>
</div>
<a class="anchor" id="aa533f5283fa120c444cd9961b14ef9a2"></a><!-- doxytag: member="RenderFormatToken::copyEffect" ref="aa533f5283fa120c444cd9961b14ef9a2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPostEffect.html">PostEffect</a> <a class="el" href="classRenderFormatToken.html#aa533f5283fa120c444cd9961b14ef9a2">RenderFormatToken::copyEffect</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This <a class="el" href="classPostEffect.html" title="A fullscreen shader effect.">PostEffect</a> will be run when the render target is changed to the format specified by this token. It is used to copy/format data into the token rendertarget. </p>

</div>
</div>
<a class="anchor" id="ad2d7ee782116c1d3e954e13319c50a9b"></a><!-- doxytag: member="RenderFormatToken::depthFormat" ref="ad2d7ee782116c1d3e954e13319c50a9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__GFX.html#ga81aab0c9b2675820d5721e6152d939cb">GFXFormat</a> <a class="el" href="classRenderFormatToken.html#ad2d7ee782116c1d3e954e13319c50a9b">RenderFormatToken::depthFormat</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the depth/stencil buffer format for this token. </p>

</div>
</div>
<a class="anchor" id="a12551f4198ae876cc974d307d7fe9421"></a><!-- doxytag: member="RenderFormatToken::format" ref="a12551f4198ae876cc974d307d7fe9421" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__GFX.html#ga81aab0c9b2675820d5721e6152d939cb">GFXFormat</a> <a class="el" href="classRenderFormatToken.html#a12551f4198ae876cc974d307d7fe9421">RenderFormatToken::format</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the color buffer format for this token. </p>

</div>
</div>
<a class="anchor" id="a3b901de03f4adaa1e43e1cb2e61b9353"></a><!-- doxytag: member="RenderFormatToken::resolveEffect" ref="a3b901de03f4adaa1e43e1cb2e61b9353" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classPostEffect.html">PostEffect</a> <a class="el" href="classRenderFormatToken.html#a3b901de03f4adaa1e43e1cb2e61b9353">RenderFormatToken::resolveEffect</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This <a class="el" href="classPostEffect.html" title="A fullscreen shader effect.">PostEffect</a> will be run when the render target is changed back to the format active prior to this token. It is used to copy/format data from the token rendertarget to the backbuffer. </p>

</div>
</div>
</div>

<!-- START FOOTER -->
<br>
<br>
<center>
	<div style="color: #777777;">
	Copyright &copy; <a style="color: #777777;" target="_blank" href="http://www.garagegames.com">GarageGames, LLC</a>. All Rights Reserved.
	</div>
</center>
</body>
</html>
