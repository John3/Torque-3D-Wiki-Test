<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Torque 3D - Script Manual: GameConnection Class Reference</title>
<link href="torquedoc.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<table width="100%" class="header">
<tr>
<td style="background-image: url( 'images/t3d-documentation-header.png' ); height: 100px;">
   <!-- hack... makes the HTML Help compiler include the image into the project -->
   <img src="images/t3d-documentation-header.png" style="width: 0; height: 0; borders: 0;">
</td>
</tr>
<tr><td class="headermenu">
	<center>
	<a class="qindex" href="index.html">Main</a> &nbsp; 
	<a class="qindex" href="annotated.html">Class List</a> &nbsp; 
	<a class="qindex" href="namespaces.html">Namespace List</a>	&nbsp; 
	<a class="qindex" href="https://github.com/LuisAntonRebollo/Torque-3D-Wiki-Test/wiki">Wiki</a>
	</center>
</td></tr>
</table>
<br>
<!-- END HEADER -->
<!-- Generated by Doxygen 1.6.3 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="contents">
<h1>GameConnection Class Reference<br/>
<small>
[<a class="el" href="group__Networking.html">Networking</a>]</small>
</h1><!-- doxytag: class="GameConnection" --><!-- doxytag: inherits="NetConnection" -->
<p>The game-specific subclass of <a class="el" href="classNetConnection.html" title="Provides the basis for implementing a multiplayer game protocol.">NetConnection</a>.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for GameConnection:</div>
<div class="dynsection">
<div class="center"><img src="classGameConnection__inherit__graph.png" border="0" usemap="#GameConnection_inherit__map" alt="Inheritance graph"/></div>
<map name="GameConnection_inherit__map" id="GameConnection_inherit__map">
<area shape="rect" href="classAIConnection.html" title="Special client connection driven by an AI, rather than a human." alt="" coords="16,379,115,405"/><area shape="rect" href="classNetConnection.html" title="Provides the basis for implementing a multiplayer game protocol." alt="" coords="12,229,119,256"/><area shape="rect" href="classSimGroup.html" title="A collection of SimObjects that are owned by the group." alt="" coords="25,155,105,181"/><area shape="rect" href="classSimSet.html" title="A collection of SimObjects." alt="" coords="33,80,97,107"/><area shape="rect" href="classSimObject.html" title="Base class for almost all objects involved in the simulation." alt="" coords="24,5,107,32"/><area shape="rect" href="classAIClient.html" title="Simulated client driven by AI commands." alt="" coords="32,453,99,480"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classGameConnection-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a4da17b6bf78c8aa681d82de9fdbebc51">activateGhosting</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called by the server during phase 2 of the mission download to start sending ghosts to the client.  <a href="#a4da17b6bf78c8aa681d82de9fdbebc51"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a3e26b67c9b4f878074c9a1779b538d9b">chaseCam</a> (int size)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the size of the chase camera's matrix queue.  <a href="#a3e26b67c9b4f878074c9a1779b538d9b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#affd4520595c207c9310fe4763507237b">clearCameraObject</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Clear the connection's camera object reference.  <a href="#affd4520595c207c9310fe4763507237b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a169f407b773c6b86b7f02726af211b04">delete</a> (string reason=&quot;&quot;)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the server, disconnect a client and pass along an optional reason why.  <a href="#a169f407b773c6b86b7f02726af211b04"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classSimObject.html">SimObject</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a4658efbb750b556817e6e9b3982ea33f">getCameraObject</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the connection's camera object used when not viewing through the control object.  <a href="#a4658efbb750b556817e6e9b3982ea33f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#abad8ffb3dee9b4ab11f01c02fd4d36f3">getControlCameraDefaultFov</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the default field of view as used by the control object's camera.  <a href="#abad8ffb3dee9b4ab11f01c02fd4d36f3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a8a6f08b627ce396dffed6c3cf4ad3bcc">getControlCameraFov</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns the field of view as used by the control object's camera.  <a href="#a8a6f08b627ce396dffed6c3cf4ad3bcc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classGameBase.html">GameBase</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a32e51692d3f6adcec79ee30ebdbd9468">getControlObject</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the server, returns the object that the client is controlling.By default the control object is an instance of the <a class="el" href="classPlayer.html" title="A client-controlled player character.">Player</a> class, but can also be an instance of <a class="el" href="classCamera.html" title="Represents a position, direction and field of view to render a scene from.">Camera</a> (when editing the mission, for example), or any other <a class="el" href="classShapeBase.html" title="A scriptable, renderable shape.">ShapeBase</a> derived class as appropriate for the game.  <a href="#a32e51692d3f6adcec79ee30ebdbd9468"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a9446b1d429c2eef2aefe2b4b6bb458c3">getDamageFlash</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the client, get the control object's damage flash level.  <a href="#a9446b1d429c2eef2aefe2b4b6bb458c3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#abfdae8fdab2ebaad03a1f7762652fc9d">getWhiteOut</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the client, get the control object's white-out level.  <a href="#abfdae8fdab2ebaad03a1f7762652fc9d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a7cd4804d36ec2227b5a30dbb1384fd03">isAIControlled</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if this connection is AI controlled.  <a href="#a7cd4804d36ec2227b5a30dbb1384fd03"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a4839fb4e134a3d44982cd8eff5072b02">isControlObjectRotDampedCamera</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if the object being controlled by the client is making use of a rotation damped camera.  <a href="#a4839fb4e134a3d44982cd8eff5072b02"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a19f2b66df98c79d4d8bfc88a6b7aa9c0">isDemoPlaying</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if a previously recorded demo file is now playing.  <a href="#a19f2b66df98c79d4d8bfc88a6b7aa9c0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a0eb91c9cbf4d5406f86369ccc3765813">isDemoRecording</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if a demo file is now being recorded.  <a href="#a0eb91c9cbf4d5406f86369ccc3765813"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a24725fb2b9304a28d0de752f28cfeeab">isFirstPerson</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if this connection is in first person mode.  <a href="#a24725fb2b9304a28d0de752f28cfeeab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a862801069687a9e9d860fe40b546ab4e">listClassIDs</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List all of the classes that this connection knows about, and what their IDs are. Useful for debugging network problems.  <a href="#a862801069687a9e9d860fe40b546ab4e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a10e01170546fcd3c3983539a3872098c">play2D</a> (<a class="el" href="classSFXProfile.html">SFXProfile</a> profile)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used on the server to play a 2D sound that is not attached to any object.  <a href="#a10e01170546fcd3c3983539a3872098c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#af16fc8bee36f45cd7e8e7a1937ed3787">play3D</a> (<a class="el" href="classSFXProfile.html">SFXProfile</a> profile, TransformF location)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Used on the server to play a 3D sound that is not attached to any object.  <a href="#af16fc8bee36f45cd7e8e7a1937ed3787"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a47f303ab1eebd350470374f6b4928789">playDemo</a> (string demoFileName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the client, play back a previously recorded game session.  <a href="#a47f303ab1eebd350470374f6b4928789"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a95e7678e5830eb91d2c3239fd16fec49">resetGhosting</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the server, resets the connection to indicate that ghosting has been disabled.  <a href="#a95e7678e5830eb91d2c3239fd16fec49"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a8bd2b90af8a78f1152d5134709a646af">setBlackOut</a> (bool doFade, int timeMS)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the server, sets the client's 3D display to fade to black.  <a href="#a8bd2b90af8a78f1152d5134709a646af"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#aef97f3e2848ea17843456b552b7f1127">setCameraObject</a> (<a class="el" href="classGameBase.html">GameBase</a> camera)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the server, set the connection's camera object used when not viewing through the control object.  <a href="#aef97f3e2848ea17843456b552b7f1127"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a812c43f928cbecee38fc0a8d01811d16">setConnectArgs</a> (const char *args)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the client, pass along a variable set of parameters to the server.  <a href="#a812c43f928cbecee38fc0a8d01811d16"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#acae7c02003259313c314b6ab62965a08">setControlCameraFov</a> (float newFOV)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the server, sets the control object's camera's field of view.  <a href="#acae7c02003259313c314b6ab62965a08"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#ae800c6b8f44fa569060447c7ab4ec3f6">setControlObject</a> (<a class="el" href="classGameBase.html">GameBase</a> ctrlObj)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the server, sets the object that the client will control.  <a href="#ae800c6b8f44fa569060447c7ab4ec3f6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a539bb0e5ae807119fae561c105d3065a">setFirstPerson</a> (bool firstPerson)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the server, sets this connection into or out of first person mode.  <a href="#a539bb0e5ae807119fae561c105d3065a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a949d10b4bbe6f46c357d5d2fb12ec06e">setJoinPassword</a> (string password)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the client, set the password that will be passed to the server.  <a href="#a949d10b4bbe6f46c357d5d2fb12ec06e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a47e4228c1829a5ec04adc4a35b2c4891">setMissionCRC</a> (int CRC)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the server, transmits the mission file's CRC value to the client.  <a href="#a47e4228c1829a5ec04adc4a35b2c4891"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a35eb0d624de74c22037d0904484099f4">startRecording</a> (string fileName)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the client, starts recording the network connection's traffic to a demo file.  <a href="#a35eb0d624de74c22037d0904484099f4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#adceb8556da6fe1c4758070e7d47faac7">stopRecording</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the client, stops the recording of a connection's network traffic to a file.  <a href="#adceb8556da6fe1c4758070e7d47faac7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a58e26e5929f3229812096654905bf128">transmitDataBlocks</a> (int sequence)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sent by the server during phase 1 of the mission download to send the datablocks to the client.  <a href="#a58e26e5929f3229812096654905bf128"></a><br/></td></tr>
<tr><td colspan="2"><div class="groupHeader">Callbacks</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p><a class="anchor" id="amgrp927620a4c3403f9e2746e959e968dc01"></a> </p>
</div></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a7d4df83f22f1edd9a231741e742b4415">initialControlSet</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called on the client when the first control object has been set by the server and we are now ready to go.  <a href="#a7d4df83f22f1edd9a231741e742b4415"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a3089aa656f4824bfc40844f054459511">onConnectionAccepted</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called on the client when the connection to the server has been established.  <a href="#a3089aa656f4824bfc40844f054459511"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#afda2d18fd034539dea4db950e80ec060">onConnectionDropped</a> (string reason)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called on the client when the connection to the server has been dropped.  <a href="#afda2d18fd034539dea4db950e80ec060"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#ab6dc4e5695151ab0c41c38e6f770cd6e">onConnectionError</a> (string errorString)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called on the client when there is an error with the connection to the server.  <a href="#ab6dc4e5695151ab0c41c38e6f770cd6e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#ab09c98679b062b510eebdecf43ee59e5">onConnectionTimedOut</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called on the client when the connection to the server times out.  <a href="#ab09c98679b062b510eebdecf43ee59e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a06dba0d222ee71dd70868dcf83ab11f1">onConnectRequestRejected</a> (string reason)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called on the client when the connection to the server has been rejected.  <a href="#a06dba0d222ee71dd70868dcf83ab11f1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#aceb96bd8f035a75422868c298835456f">onConnectRequestTimedOut</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called when connection attempts have timed out.  <a href="#aceb96bd8f035a75422868c298835456f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a109781c86b8429be1f7f9f5cef6d5089">onDataBlocksDone</a> (int sequence)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called on the server when all datablocks has been sent to the client.  <a href="#a109781c86b8429be1f7f9f5cef6d5089"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a0a2869384d955c43dbe2be86a9cc8146">onDrop</a> (string disconnectReason)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called on the server when the client's connection has been dropped.  <a href="#a0a2869384d955c43dbe2be86a9cc8146"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#aa29e9f711c2f55074457945914f694f9">onFlash</a> (bool state)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called on the client when the damage flash or white out states change.  <a href="#aa29e9f711c2f55074457945914f694f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#adc9dbef3ccf4b7fc53b261c51f3ff97e">setLagIcon</a> (bool state)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Called on the client to display the lag icon.  <a href="#adc9dbef3ccf4b7fc53b261c51f3ff97e"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classGameConnection.html#a2b4160e8a717545b5ec717011e31eb76">getServerConnection</a> ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">On the client, this static mehtod will return the connection to the server, if any.  <a href="#a2b4160e8a717545b5ec717011e31eb76"></a><br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>The game-specific subclass of <a class="el" href="classNetConnection.html" title="Provides the basis for implementing a multiplayer game protocol.">NetConnection</a>. </p>
<p>The <a class="el" href="classGameConnection.html" title="The game-specific subclass of NetConnection.">GameConnection</a> introduces the concept of the control object. The control object is simply the object that the client is associated with that network connection controls. By default the control object is an instance of the <a class="el" href="classPlayer.html" title="A client-controlled player character.">Player</a> class, but can also be an instance of <a class="el" href="classCamera.html" title="Represents a position, direction and field of view to render a scene from.">Camera</a> (when editing the mission, for example), or any other <a class="el" href="classShapeBase.html" title="A scriptable, renderable shape.">ShapeBase</a> derived class as appropriate for the game.</p>
<p>Torque uses a model in which the server is the authoritative master of the simulation. To prevent clients from cheating, the server simulates all player moves and then tells the client where his player is in the world. This model, while secure, can have problems. If the network latency is high, this round-trip time can give the player a very noticeable sense of movement lag. To correct this problem, the game uses a form of prediction - it simulates the movement of the control object on the client and on the server both. This way the client doesn't need to wait for round-trip verification of his moves. Only in the case of a force acting on the control object on the server that doesn't exist on the client does the client's position need to be forcefully changed.</p>
<p>To support this, all control objects (derivative of <a class="el" href="classShapeBase.html" title="A scriptable, renderable shape.">ShapeBase</a>) must supply a writePacketData() and readPacketData() function that send enough data to accurately simulate the object on the client. These functions are only called for the current control object, and only when the server can determine that the client's simulation is somehow out of sync with the server. This occurs usually if the client is affected by a force not present on the server (like an interpolating object) or if the server object is affected by a server only force (such as the impulse from an explosion).</p>
<p>The Move structure is a 32 millisecond snapshot of player input, containing x, y, and z positional and rotational changes as well as trigger state changes. When time passes in the simulation moves are collected (depending on how much time passes), and applied to the current control object on the client. The same moves are then packed over to the server in GameConnection::writePacket(), for processing on the server's version of the control object.</p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__Networking.html">Networking</a>, <a class="el" href="classNetConnection.html" title="Provides the basis for implementing a multiplayer game protocol.">NetConnection</a>, <a class="el" href="classShapeBase.html" title="A scriptable, renderable shape.">ShapeBase</a> </dd></dl>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a4da17b6bf78c8aa681d82de9fdbebc51"></a><!-- doxytag: member="GameConnection::activateGhosting" ref="a4da17b6bf78c8aa681d82de9fdbebc51" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::activateGhosting </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called by the server during phase 2 of the mission download to start sending ghosts to the client. </p>
<p>Ghosts represent objects on the server that are in scope for the client. These need to be synchronized with the client in order for the client to see and interact with them. This is typically done during the standard mission start phase 2 when following Torque's example mission startup sequence.</p>
<dl class="user"><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment">function serverCmdMissionStartPhase2Ack(%client, %seq, %playerDB)
{
   <span class="comment">// Make sure to ignore calls from a previous mission load</span>
   <span class="keywordflow">if</span> (%seq != $missionSequence || !$MissionRunning)
      <span class="keywordflow">return</span>;
   <span class="keywordflow">if</span> (%client.currentPhase != 1.5)
      <span class="keywordflow">return</span>;
   %client.currentPhase = 2;

   <span class="comment">// Set the player datablock choice</span>
   %client.playerDB = %playerDB;

   <span class="comment">// Update mod paths, this needs to get there before the objects.</span>
   %client.transmitPaths();

   <span class="comment">// Start ghosting objects to the client</span>
   %client.activateGhosting();
}
</pre></div></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__Networking.html">On Ghosting and Scoping</a> for a description of the ghosting system. </dd></dl>

</div>
</div>
<a class="anchor" id="a3e26b67c9b4f878074c9a1779b538d9b"></a><!-- doxytag: member="GameConnection::chaseCam" ref="a3e26b67c9b4f878074c9a1779b538d9b" args="(int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::chaseCam </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>size</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sets the size of the chase camera's matrix queue. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>This sets the queue size across all GameConnections.</dd>
<dd>
This is not currently hooked up. </dd></dl>

</div>
</div>
<a class="anchor" id="affd4520595c207c9310fe4763507237b"></a><!-- doxytag: member="GameConnection::clearCameraObject" ref="affd4520595c207c9310fe4763507237b" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::clearCameraObject </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Clear the connection's camera object reference. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#aef97f3e2848ea17843456b552b7f1127" title="On the server, set the connection&#39;s camera object used when not viewing through...">GameConnection::setCameraObject()</a> and <a class="el" href="classGameConnection.html#a4658efbb750b556817e6e9b3982ea33f" title="Returns the connection&#39;s camera object used when not viewing through the control...">GameConnection::getCameraObject()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a169f407b773c6b86b7f02726af211b04"></a><!-- doxytag: member="GameConnection::delete" ref="a169f407b773c6b86b7f02726af211b04" args="(string reason=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::delete </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>reason</em> = <code>&quot;&quot;</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the server, disconnect a client and pass along an optional reason why. </p>
<p>This method performs two operations: it disconnects a client connection from the server, and it deletes the connection object. The optional reason is sent in the disconnect packet and is often displayed to the user so they know why they've been disconnected.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>[optional] The reason why the user has been disconnected from the server.</td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment">function kick(%client)
{
   messageAll( <span class="stringliteral">&#39;MsgAdminForce&#39;</span>, <span class="stringliteral">&#39;\c2The Admin has kicked %1.&#39;</span>, %client.playerName);

   <span class="keywordflow">if</span> (!%client.isAIControlled())
      <a class="code" href="classBanList.html#ac4832c0eb7484f9ab2e5f5152d0a5480" title="Ban a user for banLength seconds.">BanList::add</a>(%client.guid, %client.getAddress(), $Pref::Server::KickBanTime);
   %client.delete(<span class="stringliteral">&quot;You have been kicked from this server&quot;</span>);
}
</pre></div> </dd></dl>

</div>
</div>
<a class="anchor" id="a4658efbb750b556817e6e9b3982ea33f"></a><!-- doxytag: member="GameConnection::getCameraObject" ref="a4658efbb750b556817e6e9b3982ea33f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classSimObject.html">SimObject</a> GameConnection::getCameraObject </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the connection's camera object used when not viewing through the control object. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#aef97f3e2848ea17843456b552b7f1127" title="On the server, set the connection&#39;s camera object used when not viewing through...">GameConnection::setCameraObject()</a> and <a class="el" href="classGameConnection.html#affd4520595c207c9310fe4763507237b" title="Clear the connection&#39;s camera object reference.">GameConnection::clearCameraObject()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="abad8ffb3dee9b4ab11f01c02fd4d36f3"></a><!-- doxytag: member="GameConnection::getControlCameraDefaultFov" ref="abad8ffb3dee9b4ab11f01c02fd4d36f3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float GameConnection::getControlCameraDefaultFov </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the default field of view as used by the control object's camera. </p>

</div>
</div>
<a class="anchor" id="a8a6f08b627ce396dffed6c3cf4ad3bcc"></a><!-- doxytag: member="GameConnection::getControlCameraFov" ref="a8a6f08b627ce396dffed6c3cf4ad3bcc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float GameConnection::getControlCameraFov </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the field of view as used by the control object's camera. </p>

</div>
</div>
<a class="anchor" id="a32e51692d3f6adcec79ee30ebdbd9468"></a><!-- doxytag: member="GameConnection::getControlObject" ref="a32e51692d3f6adcec79ee30ebdbd9468" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classGameBase.html">GameBase</a> GameConnection::getControlObject </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the server, returns the object that the client is controlling.By default the control object is an instance of the <a class="el" href="classPlayer.html" title="A client-controlled player character.">Player</a> class, but can also be an instance of <a class="el" href="classCamera.html" title="Represents a position, direction and field of view to render a scene from.">Camera</a> (when editing the mission, for example), or any other <a class="el" href="classShapeBase.html" title="A scriptable, renderable shape.">ShapeBase</a> derived class as appropriate for the game. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#ae800c6b8f44fa569060447c7ab4ec3f6" title="On the server, sets the object that the client will control.">GameConnection::setControlObject()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a9446b1d429c2eef2aefe2b4b6bb458c3"></a><!-- doxytag: member="GameConnection::getDamageFlash" ref="a9446b1d429c2eef2aefe2b4b6bb458c3" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float GameConnection::getDamageFlash </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the client, get the control object's damage flash level. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>flash level </dd></dl>

</div>
</div>
<a class="anchor" id="a2b4160e8a717545b5ec717011e31eb76"></a><!-- doxytag: member="GameConnection::getServerConnection" ref="a2b4160e8a717545b5ec717011e31eb76" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int GameConnection::getServerConnection </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the client, this static mehtod will return the connection to the server, if any. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>The <a class="el" href="classSimObject.html" title="Base class for almost all objects involved in the simulation.">SimObject</a> ID of the server connection, or -1 if none is found. </dd></dl>

</div>
</div>
<a class="anchor" id="abfdae8fdab2ebaad03a1f7762652fc9d"></a><!-- doxytag: member="GameConnection::getWhiteOut" ref="abfdae8fdab2ebaad03a1f7762652fc9d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float GameConnection::getWhiteOut </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the client, get the control object's white-out level. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>white-out level </dd></dl>

</div>
</div>
<a class="anchor" id="a7d4df83f22f1edd9a231741e742b4415"></a><!-- doxytag: member="GameConnection::initialControlSet" ref="a7d4df83f22f1edd9a231741e742b4415" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::initialControlSet </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called on the client when the first control object has been set by the server and we are now ready to go. </p>
<p>A common action to perform when this callback is called is to switch the GUI canvas from the loading screen and over to the 3D game GUI. </p>

</div>
</div>
<a class="anchor" id="a7cd4804d36ec2227b5a30dbb1384fd03"></a><!-- doxytag: member="GameConnection::isAIControlled" ref="a7cd4804d36ec2227b5a30dbb1384fd03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::isAIControlled </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if this connection is AI controlled. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classAIConnection.html" title="Special client connection driven by an AI, rather than a human.">AIConnection</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a4839fb4e134a3d44982cd8eff5072b02"></a><!-- doxytag: member="GameConnection::isControlObjectRotDampedCamera" ref="a4839fb4e134a3d44982cd8eff5072b02" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::isControlObjectRotDampedCamera </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if the object being controlled by the client is making use of a rotation damped camera. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classCamera.html" title="Represents a position, direction and field of view to render a scene from.">Camera</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a19f2b66df98c79d4d8bfc88a6b7aa9c0"></a><!-- doxytag: member="GameConnection::isDemoPlaying" ref="a19f2b66df98c79d4d8bfc88a6b7aa9c0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::isDemoPlaying </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if a previously recorded demo file is now playing. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#a47f303ab1eebd350470374f6b4928789" title="On the client, play back a previously recorded game session.">GameConnection::playDemo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0eb91c9cbf4d5406f86369ccc3765813"></a><!-- doxytag: member="GameConnection::isDemoRecording" ref="a0eb91c9cbf4d5406f86369ccc3765813" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::isDemoRecording </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if a demo file is now being recorded. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#a35eb0d624de74c22037d0904484099f4" title="On the client, starts recording the network connection&#39;s traffic to a demo file...">GameConnection::startRecording()</a>, <a class="el" href="classGameConnection.html#adceb8556da6fe1c4758070e7d47faac7" title="On the client, stops the recording of a connection&#39;s network traffic to a file...">GameConnection::stopRecording()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a24725fb2b9304a28d0de752f28cfeeab"></a><!-- doxytag: member="GameConnection::isFirstPerson" ref="a24725fb2b9304a28d0de752f28cfeeab" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::isFirstPerson </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns true if this connection is in first person mode. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>Transition to first person occurs over time via mCameraPos, so this won't immediately return true after a set. </dd></dl>

</div>
</div>
<a class="anchor" id="a862801069687a9e9d860fe40b546ab4e"></a><!-- doxytag: member="GameConnection::listClassIDs" ref="a862801069687a9e9d860fe40b546ab4e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::listClassIDs </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>List all of the classes that this connection knows about, and what their IDs are. Useful for debugging network problems. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>The list is sent to the console. </dd></dl>

</div>
</div>
<a class="anchor" id="a3089aa656f4824bfc40844f054459511"></a><!-- doxytag: member="GameConnection::onConnectionAccepted" ref="a3089aa656f4824bfc40844f054459511" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::onConnectionAccepted </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called on the client when the connection to the server has been established. </p>

</div>
</div>
<a class="anchor" id="afda2d18fd034539dea4db950e80ec060"></a><!-- doxytag: member="GameConnection::onConnectionDropped" ref="afda2d18fd034539dea4db950e80ec060" args="(string reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::onConnectionDropped </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>reason</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called on the client when the connection to the server has been dropped. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>The reason why the connection was dropped. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab6dc4e5695151ab0c41c38e6f770cd6e"></a><!-- doxytag: member="GameConnection::onConnectionError" ref="ab6dc4e5695151ab0c41c38e6f770cd6e" args="(string errorString)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::onConnectionError </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>errorString</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called on the client when there is an error with the connection to the server. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>errorString</em>&nbsp;</td><td>The connection error text. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab09c98679b062b510eebdecf43ee59e5"></a><!-- doxytag: member="GameConnection::onConnectionTimedOut" ref="ab09c98679b062b510eebdecf43ee59e5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::onConnectionTimedOut </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called on the client when the connection to the server times out. </p>

</div>
</div>
<a class="anchor" id="a06dba0d222ee71dd70868dcf83ab11f1"></a><!-- doxytag: member="GameConnection::onConnectRequestRejected" ref="a06dba0d222ee71dd70868dcf83ab11f1" args="(string reason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::onConnectRequestRejected </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>reason</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called on the client when the connection to the server has been rejected. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>reason</em>&nbsp;</td><td>The reason why the connection request was rejected. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aceb96bd8f035a75422868c298835456f"></a><!-- doxytag: member="GameConnection::onConnectRequestTimedOut" ref="aceb96bd8f035a75422868c298835456f" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::onConnectRequestTimedOut </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called when connection attempts have timed out. </p>

</div>
</div>
<a class="anchor" id="a109781c86b8429be1f7f9f5cef6d5089"></a><!-- doxytag: member="GameConnection::onDataBlocksDone" ref="a109781c86b8429be1f7f9f5cef6d5089" args="(int sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::onDataBlocksDone </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sequence</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called on the server when all datablocks has been sent to the client. </p>
<p>During phase 1 of the mission download, all datablocks are sent from the server to the client. Once all datablocks have been sent, this callback is called and the mission download procedure may move on to the next phase.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sequence</em>&nbsp;</td><td>The sequence is common between the server and client and ensures that the client is acting on the most recent mission start process. If an errant network packet (one that was lost but has now been found) is received by the client with an incorrect sequence, it is just ignored. This sequence number is updated on the server every time a mission is loaded.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#a58e26e5929f3229812096654905bf128" title="Sent by the server during phase 1 of the mission download to send the datablocks...">GameConnection::transmitDataBlocks()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0a2869384d955c43dbe2be86a9cc8146"></a><!-- doxytag: member="GameConnection::onDrop" ref="a0a2869384d955c43dbe2be86a9cc8146" args="(string disconnectReason)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::onDrop </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>disconnectReason</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called on the server when the client's connection has been dropped. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>disconnectReason</em>&nbsp;</td><td>The reason why the connection was dropped. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aa29e9f711c2f55074457945914f694f9"></a><!-- doxytag: member="GameConnection::onFlash" ref="aa29e9f711c2f55074457945914f694f9" args="(bool state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::onFlash </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>state</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called on the client when the damage flash or white out states change. </p>
<p>When the server changes the damage flash or white out values, this callback is called either is on or both are off. Typically this is used to enable the flash postFx.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>Set to true if either the damage flash or white out conditions are active. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a10e01170546fcd3c3983539a3872098c"></a><!-- doxytag: member="GameConnection::play2D" ref="a10e01170546fcd3c3983539a3872098c" args="(SFXProfile profile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::play2D </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSFXProfile.html">SFXProfile</a>&nbsp;</td>
          <td class="paramname"> <em>profile</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used on the server to play a 2D sound that is not attached to any object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>profile</em>&nbsp;</td><td>The <a class="el" href="classSFXProfile.html" title="Encapsulates a single sound file for playback by the sound system.">SFXProfile</a> that defines the sound to play.</td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment">function ServerPlay2D(%profile)
{
   <span class="comment">// Play the given sound profile on every client.</span>
   <span class="comment">// The sounds will be transmitted as an event, not attached to any object.</span>
   <span class="keywordflow">for</span>(%idx = 0; %idx &lt; ClientGroup.getCount(); %idx++)
      ClientGroup.getObject(%idx).play2D(%profile);
}
</pre></div> </dd></dl>

</div>
</div>
<a class="anchor" id="af16fc8bee36f45cd7e8e7a1937ed3787"></a><!-- doxytag: member="GameConnection::play3D" ref="af16fc8bee36f45cd7e8e7a1937ed3787" args="(SFXProfile profile, TransformF location)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::play3D </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classSFXProfile.html">SFXProfile</a>&nbsp;</td>
          <td class="paramname"> <em>profile</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TransformF&nbsp;</td>
          <td class="paramname"> <em>location</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Used on the server to play a 3D sound that is not attached to any object. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>profile</em>&nbsp;</td><td>The <a class="el" href="classSFXProfile.html" title="Encapsulates a single sound file for playback by the sound system.">SFXProfile</a> that defines the sound to play. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>location</em>&nbsp;</td><td>The position and orientation of the 3D sound given in the form of "x y z ax ay az aa".</td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment">function ServerPlay3D(%profile,%transform)
{
   <span class="comment">// Play the given sound profile at the given position on every client</span>
   <span class="comment">// The sound will be transmitted as an event, not attached to any object.</span>
   <span class="keywordflow">for</span>(%idx = 0; %idx &lt; ClientGroup.getCount(); %idx++)
      ClientGroup.getObject(%idx).play3D(%profile,%transform);
}
</pre></div> </dd></dl>

</div>
</div>
<a class="anchor" id="a47f303ab1eebd350470374f6b4928789"></a><!-- doxytag: member="GameConnection::playDemo" ref="a47f303ab1eebd350470374f6b4928789" args="(string demoFileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::playDemo </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>demoFileName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the client, play back a previously recorded game session. </p>
<p>It is often useful to play back a game session. This could be for producing a demo of the game that will be shown at a later time, or for debugging a game. By recording the entire network stream it is possible to later play game the game exactly as it unfolded during the actual play session. This is because all user control and server results pass through the connection.</p>
<dl class="return"><dt><b>Returns:</b></dt><dd>True if the playback was successful. False if there was an issue, such as not being able to open the demo file for playback.</dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#a35eb0d624de74c22037d0904484099f4" title="On the client, starts recording the network connection&#39;s traffic to a demo file...">GameConnection::startRecording()</a>, <a class="el" href="classGameConnection.html#adceb8556da6fe1c4758070e7d47faac7" title="On the client, stops the recording of a connection&#39;s network traffic to a file...">GameConnection::stopRecording()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a95e7678e5830eb91d2c3239fd16fec49"></a><!-- doxytag: member="GameConnection::resetGhosting" ref="a95e7678e5830eb91d2c3239fd16fec49" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::resetGhosting </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the server, resets the connection to indicate that ghosting has been disabled. </p>
<p>Typically when a mission has ended on the server, all connected clients are informed of this change and their connections are reset back to a starting state. This method resets a connection on the server to indicate that ghosts are no longer being transmitted. On the client end, all ghost information will be deleted.</p>
<dl class="user"><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment">   <span class="comment">// Inform the clients</span>
   <span class="keywordflow">for</span> (%clientIndex = 0; %clientIndex &lt; ClientGroup.getCount(); %clientIndex++)
   {
      <span class="comment">// clear ghosts and paths from all clients</span>
      %cl = ClientGroup.getObject(%clientIndex);
      %cl.endMission();
      %cl.resetGhosting();
      %cl.clearPaths();
   }
</pre></div></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="group__Networking.html">On Ghosting and Scoping</a> for a description of the ghosting system. </dd></dl>

</div>
</div>
<a class="anchor" id="a8bd2b90af8a78f1152d5134709a646af"></a><!-- doxytag: member="GameConnection::setBlackOut" ref="a8bd2b90af8a78f1152d5134709a646af" args="(bool doFade, int timeMS)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::setBlackOut </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>doFade</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>timeMS</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the server, sets the client's 3D display to fade to black. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>doFade</em>&nbsp;</td><td>Set to true to fade to black, and false to fade from black. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeMS</em>&nbsp;</td><td>Time it takes to perform the fade as measured in ms.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Not currently hooked up, and is not synchronized over the network. </dd></dl>

</div>
</div>
<a class="anchor" id="aef97f3e2848ea17843456b552b7f1127"></a><!-- doxytag: member="GameConnection::setCameraObject" ref="aef97f3e2848ea17843456b552b7f1127" args="(GameBase camera)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::setCameraObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGameBase.html">GameBase</a>&nbsp;</td>
          <td class="paramname"> <em>camera</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the server, set the connection's camera object used when not viewing through the control object. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#a4658efbb750b556817e6e9b3982ea33f" title="Returns the connection&#39;s camera object used when not viewing through the control...">GameConnection::getCameraObject()</a> and <a class="el" href="classGameConnection.html#affd4520595c207c9310fe4763507237b" title="Clear the connection&#39;s camera object reference.">GameConnection::clearCameraObject()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a812c43f928cbecee38fc0a8d01811d16"></a><!-- doxytag: member="GameConnection::setConnectArgs" ref="a812c43f928cbecee38fc0a8d01811d16" args="(const char *args)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::setConnectArgs </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>args</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the client, pass along a variable set of parameters to the server. </p>
<p>Once the connection is established with the server, the server calls its onConnect() method with the client's passed in parameters as aruments.</p>
<dl class="see"><dt><b>See also:</b></dt><dd>GameConnection::onConnect() </dd></dl>

</div>
</div>
<a class="anchor" id="acae7c02003259313c314b6ab62965a08"></a><!-- doxytag: member="GameConnection::setControlCameraFov" ref="acae7c02003259313c314b6ab62965a08" args="(float newFOV)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::setControlCameraFov </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>newFOV</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the server, sets the control object's camera's field of view. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>newFOV</em>&nbsp;</td><td>New field of view (in degrees) to force the control object's camera to use. This value is clamped to be within the range of 1 to 179 degrees.</td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>When transmitted over the network to the client, the resolution is limited to one degree. Any fraction is dropped. </dd></dl>

</div>
</div>
<a class="anchor" id="ae800c6b8f44fa569060447c7ab4ec3f6"></a><!-- doxytag: member="GameConnection::setControlObject" ref="ae800c6b8f44fa569060447c7ab4ec3f6" args="(GameBase ctrlObj)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool GameConnection::setControlObject </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classGameBase.html">GameBase</a>&nbsp;</td>
          <td class="paramname"> <em>ctrlObj</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the server, sets the object that the client will control. </p>
<p>By default the control object is an instance of the <a class="el" href="classPlayer.html" title="A client-controlled player character.">Player</a> class, but can also be an instance of <a class="el" href="classCamera.html" title="Represents a position, direction and field of view to render a scene from.">Camera</a> (when editing the mission, for example), or any other <a class="el" href="classShapeBase.html" title="A scriptable, renderable shape.">ShapeBase</a> derived class as appropriate for the game.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctrlObj</em>&nbsp;</td><td>The <a class="el" href="classGameBase.html" title="Base class for game objects which use datablocks, networking, are editable, and need...">GameBase</a> object on the server to control. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a539bb0e5ae807119fae561c105d3065a"></a><!-- doxytag: member="GameConnection::setFirstPerson" ref="a539bb0e5ae807119fae561c105d3065a" args="(bool firstPerson)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::setFirstPerson </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>firstPerson</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the server, sets this connection into or out of first person mode. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>firstPerson</em>&nbsp;</td><td>Set to true to put the connection into first person mode. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a949d10b4bbe6f46c357d5d2fb12ec06e"></a><!-- doxytag: member="GameConnection::setJoinPassword" ref="a949d10b4bbe6f46c357d5d2fb12ec06e" args="(string password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::setJoinPassword </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>password</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the client, set the password that will be passed to the server. </p>
<p>On the server, this password is compared with what is stored in </p>
<dl class="rcs"><dt><b>pref</b></dt><dd>:Server::Password. If </dd></dl>
<p>pref::Server::Password is empty then the client's sent password is ignored. Otherwise, if the passed in client password and the server password do not match, the CHR_PASSWORD error string is sent back to the client and the connection is immediately terminated.</p>
<p>This password checking is performed quite early on in the connection request process so as to minimize the impact of multiple failed attempts -- also known as hacking. </p>

</div>
</div>
<a class="anchor" id="adc9dbef3ccf4b7fc53b261c51f3ff97e"></a><!-- doxytag: member="GameConnection::setLagIcon" ref="adc9dbef3ccf4b7fc53b261c51f3ff97e" args="(bool state)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::setLagIcon </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>state</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Called on the client to display the lag icon. </p>
<p>When the connection with the server is lagging, this callback is called to allow the game GUI to display some indicator to the player.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>state</em>&nbsp;</td><td>Set to true if the lag icon should be displayed. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a47e4228c1829a5ec04adc4a35b2c4891"></a><!-- doxytag: member="GameConnection::setMissionCRC" ref="a47e4228c1829a5ec04adc4a35b2c4891" args="(int CRC)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::setMissionCRC </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>CRC</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the server, transmits the mission file's CRC value to the client. </p>
<p>Typically, during the standard mission start phase 1, the mission file's CRC value on the server is send to the client. This allows the client to determine if the mission has changed since the last time it downloaded this mission and act appropriately, such as rebuilt cached lightmaps.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>CRC</em>&nbsp;</td><td>The mission file's CRC value on the server.</td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment">function serverCmdMissionStartPhase1Ack(%client, %seq)
{
   <span class="comment">// Make sure to ignore calls from a previous mission load</span>
   <span class="keywordflow">if</span> (%seq != $missionSequence || !$MissionRunning)
      <span class="keywordflow">return</span>;
   <span class="keywordflow">if</span> (%client.currentPhase != 0)
      <span class="keywordflow">return</span>;
   %client.currentPhase = 1;

   <span class="comment">// Start with the CRC</span>
   %client.setMissionCRC( $missionCRC );

   <span class="comment">// Send over the datablocks...</span>
   <span class="comment">// OnDataBlocksDone will get called when have confirmation</span>
   <span class="comment">// that they&#39;ve all been received.</span>
   %client.transmitDataBlocks($missionSequence);
}
</pre></div> </dd></dl>

</div>
</div>
<a class="anchor" id="a35eb0d624de74c22037d0904484099f4"></a><!-- doxytag: member="GameConnection::startRecording" ref="a35eb0d624de74c22037d0904484099f4" args="(string fileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::startRecording </td>
          <td>(</td>
          <td class="paramtype">string&nbsp;</td>
          <td class="paramname"> <em>fileName</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the client, starts recording the network connection's traffic to a demo file. </p>
<p>It is often useful to play back a game session. This could be for producing a demo of the game that will be shown at a later time, or for debugging a game. By recording the entire network stream it is possible to later play game the game exactly as it unfolded during the actual play session. This is because all user control and server results pass through the connection.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>The file name to use for the demo recording.</td></tr>
  </table>
  </dd>
</dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#adceb8556da6fe1c4758070e7d47faac7" title="On the client, stops the recording of a connection&#39;s network traffic to a file...">GameConnection::stopRecording()</a>, <a class="el" href="classGameConnection.html#a47f303ab1eebd350470374f6b4928789" title="On the client, play back a previously recorded game session.">GameConnection::playDemo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="adceb8556da6fe1c4758070e7d47faac7"></a><!-- doxytag: member="GameConnection::stopRecording" ref="adceb8556da6fe1c4758070e7d47faac7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::stopRecording </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>On the client, stops the recording of a connection's network traffic to a file. </p>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#a35eb0d624de74c22037d0904484099f4" title="On the client, starts recording the network connection&#39;s traffic to a demo file...">GameConnection::startRecording()</a>, <a class="el" href="classGameConnection.html#a47f303ab1eebd350470374f6b4928789" title="On the client, play back a previously recorded game session.">GameConnection::playDemo()</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a58e26e5929f3229812096654905bf128"></a><!-- doxytag: member="GameConnection::transmitDataBlocks" ref="a58e26e5929f3229812096654905bf128" args="(int sequence)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void GameConnection::transmitDataBlocks </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>sequence</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sent by the server during phase 1 of the mission download to send the datablocks to the client. </p>
<p>SimDataBlocks, also known as just datablocks, need to be transmitted to the client prior to the client entering the game world. These represent the static data that most objects in the world reference. This is typically done during the standard mission start phase 1 when following Torque's example mission startup sequence.</p>
<p>When the datablocks have all been transmitted, <a class="el" href="classGameConnection.html#a109781c86b8429be1f7f9f5cef6d5089" title="Called on the server when all datablocks has been sent to the client.">onDataBlocksDone()</a> is called to move the mission start process to the next phase.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sequence</em>&nbsp;</td><td>The sequence is common between the server and client and ensures that the client is acting on the most recent mission start process. If an errant network packet (one that was lost but has now been found) is received by the client with an incorrect sequence, it is just ignored. This sequence number is updated on the server every time a mission is loaded.</td></tr>
  </table>
  </dd>
</dl>
<dl class="user"><dt><b>Example:</b></dt><dd><div class="fragment"><pre class="fragment">function serverCmdMissionStartPhase1Ack(%client, %seq)
{
   <span class="comment">// Make sure to ignore calls from a previous mission load</span>
   <span class="keywordflow">if</span> (%seq != $missionSequence || !$MissionRunning)
      <span class="keywordflow">return</span>;
   <span class="keywordflow">if</span> (%client.currentPhase != 0)
      <span class="keywordflow">return</span>;
   %client.currentPhase = 1;

   <span class="comment">// Start with the CRC</span>
   %client.setMissionCRC( $missionCRC );

   <span class="comment">// Send over the datablocks...</span>
   <span class="comment">// OnDataBlocksDone will get called when have confirmation</span>
   <span class="comment">// that they&#39;ve all been received.</span>
   %client.transmitDataBlocks($missionSequence);
}
</pre></div></dd></dl>
<dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classGameConnection.html#a109781c86b8429be1f7f9f5cef6d5089" title="Called on the server when all datablocks has been sent to the client.">GameConnection::onDataBlocksDone()</a> </dd></dl>

</div>
</div>
</div>

<!-- START FOOTER -->
<br>
<br>
<center>
	<div style="color: #777777;">
	Copyright &copy; <a style="color: #777777;" target="_blank" href="http://www.garagegames.com">GarageGames, LLC</a>. All Rights Reserved.
	</div>
</center>
</body>
</html>
